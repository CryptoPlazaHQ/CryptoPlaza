# Gu√≠a de Ensamblaje: Raspberry Pi para Almacenamiento BTT

![Banner Raspberry Pi BTT](https://via.placeholder.com/800x200?text=Raspberry+Pi+BitTorrent+Storage)

## üìã Configuraci√≥n Paso a Paso con UI/UX Optimizada
*Conectividad, Almacenamiento y Monetizaci√≥n en BitTorrent*

---

## üìå √çndice
- [Requisitos del Hardware](#requisitos-del-hardware)
- [Configuraci√≥n Inicial](#configuraci√≥n-inicial)
- [Preparaci√≥n del Almacenamiento](#preparaci√≥n-del-almacenamiento)
- [Instalaci√≥n de BitTorrent Client + BTT](#instalaci√≥n-de-bittorrent-client--btt)
- [Optimizaci√≥n para BTT](#optimizaci√≥n-para-btt)
- [Monitoreo y UI/UX Avanzada](#monitoreo-y-uiux-avanzada)
- [Mantenimiento y Seguridad](#mantenimiento-y-seguridad)
- [ROI Estimado](#roi-estimado)
- [Conclusi√≥n](#conclusi√≥n)
- [Recursos](#recursos)

---

## üíª Requisitos del Hardware

### Materiales Necesarios:

| Componente | Especificaciones | Enlace de Ejemplo |
|------------|------------------|-------------------|
| Raspberry Pi 4/5 | 4GB RAM o superior | [Comprar aqu√≠](https://www.raspberrypi.com/products/) |
| SSD/HDD Externo | 1TB o m√°s (USB 3.0 recomendado) | [Ver opciones](https://amzn.to/example) |
| Fuente de Poder | 5V/3A con conector USB-C | [Ver opciones](https://amzn.to/example) |
| Tarjeta MicroSD | 32GB Clase 10 | [Ver opciones](https://amzn.to/example) |

### Componentes Opcionales:

| Componente | Especificaciones |
|------------|------------------|
| Case con Ventilaci√≥n | Dise√±o para refrigeraci√≥n pasiva |
| Ventilador USB | Para climas c√°lidos |
| Cable Ethernet | Cat 6 recomendado para mejor rendimiento |

![Esquema de conexiones](https://via.placeholder.com/600x400?text=Esquema+de+Conexiones)
*Figura 1: Esquema de conexiones para el montaje completo*

> ‚ö†Ô∏è **Importante**: Aseg√∫rate de utilizar una fuente de alimentaci√≥n de calidad para evitar problemas de energ√≠a que pueden da√±ar la Raspberry Pi o los datos almacenados.

---

## üöÄ Configuraci√≥n Inicial

### Paso 1: Instalar el Sistema Operativo

1. Descargar **Raspberry Pi OS Lite** (64-bit) desde [el sitio oficial](https://www.raspberrypi.com/software/operating-systems/).
2. Grabar la imagen en la MicroSD con **BalenaEtcher** ([descargar aqu√≠](https://www.balena.io/etcher/)).
3. Insertar la MicroSD en la Raspberry Pi y conectar perif√©ricos (monitor, teclado) para la configuraci√≥n inicial.

![Instalaci√≥n OS](https://via.placeholder.com/600x350?text=Instalaci√≥n+Raspberry+Pi+OS)

### Paso 2: Habilitar Acceso Remoto (UI/UX Amigable)

#### Configuraci√≥n SSH:

```bash
# Primer acceso despu√©s de la instalaci√≥n
ssh pi@192.168.1.X  # Reemplazar X por la IP local
# Contrase√±a por defecto: raspberry
```

#### Interfaz Web Cockpit:

```bash
# Instalar Cockpit para gesti√≥n visual
sudo apt update
sudo apt install cockpit -y
```

Acceder desde tu navegador: `http://IP_RASPBERRY:9090`

![Dashboard Cockpit](https://via.placeholder.com/600x350?text=Dashboard+Cockpit)

> üí° **Tip**: Para encontrar la IP de tu Raspberry Pi, ejecuta `hostname -I` en la terminal o revisa la lista de dispositivos conectados en tu router.

---

## üíæ Preparaci√≥n del Almacenamiento

### Paso 3: Formatear el SSD/HDD

1. Conectar el disco a un puerto USB 3.0 de la Raspberry Pi (puertos azules).
2. Identificar el dispositivo:

```bash
sudo lsblk  # Ejemplo de salida: /dev/sda
```

3. Crear una tabla de particiones (opcional si el disco es nuevo):

```bash
sudo fdisk /dev/sda

# Comandos en fdisk:
# n (nueva partici√≥n)
# p (partici√≥n primaria)
# 1 (n√∫mero de partici√≥n)
# Presionar Enter dos veces para usar todo el espacio
# w (escribir cambios)
```

4. Formatear en **ext4** (sistema de archivos √≥ptimo para Linux):

```bash
sudo mkfs.ext4 /dev/sda1
# A√±adir etiqueta al disco (opcional)
sudo e2label /dev/sda1 BTT_STORAGE
```

### Paso 4: Montaje Autom√°tico

1. Crear directorio de montaje:

```bash
sudo mkdir -p /mnt/btt_storage
```

2. Editar el archivo `/etc/fstab`:

```bash
sudo nano /etc/fstab
```

3. A√±adir la siguiente l√≠nea al final:

```
/dev/sda1 /mnt/btt_storage ext4 defaults,noatime 0 0
```

4. Guardar (Ctrl+O, Enter) y salir (Ctrl+X).

5. Montar todos los sistemas de archivos:

```bash
sudo mount -a
```

6. Verificar el montaje:

```bash
df -h /mnt/btt_storage
```

7. Establecer permisos:

```bash
sudo chown -R pi:pi /mnt/btt_storage
```

8. Reiniciar para comprobar el montaje autom√°tico:

```bash
sudo reboot
```

![Montaje Disco](https://via.placeholder.com/600x300?text=Montaje+Disco+Externo)

---

## üîÑ Instalaci√≥n de BitTorrent Client + BTT

### Paso 5: Configurar qBittorrent-nox (Sin Interfaz Gr√°fica)

1. Instalar qBittorrent-nox:

```bash
sudo apt install qbittorrent-nox -y
```

2. Crear servicio systemd para iniciar autom√°ticamente:

```bash
sudo nano /etc/systemd/system/qbittorrent.service
```

3. A√±adir el siguiente contenido:

```ini
[Unit]
Description=qBittorrent Daemon Service
After=network.target

[Service]
User=pi
ExecStart=/usr/bin/qbittorrent-nox
Restart=on-failure

[Install]
WantedBy=multi-user.target
```

4. Habilitar e iniciar el servicio:

```bash
sudo systemctl enable qbittorrent.service
sudo systemctl start qbittorrent.service
```

5. Verificar estado:

```bash
sudo systemctl status qbittorrent.service
```

6. Acceder a la interfaz web: `http://IP_RASPBERRY:8080`
   - Usuario por defecto: *admin*
   - Contrase√±a por defecto: *adminadmin*

![qBittorrent Web UI](https://via.placeholder.com/600x350?text=qBittorrent+Web+UI)

### Paso 6: Vincular Billetera BTT

1. Crear una billetera TRON (recomendado: **TronLink** - [Descargar extensi√≥n](https://www.tronlink.org/)).
2. En qBittorrent:
   * Ir a **Herramientas ‚Üí Opciones ‚Üí BitTorrent**.
   * Activar **Monetizaci√≥n BTT** e ingresar la direcci√≥n TRON.
   * Verificar la conexi√≥n con la red TRON.

![Configuraci√≥n BTT](https://via.placeholder.com/600x350?text=Configuraci√≥n+BTT+en+qBittorrent)

> ‚ö†Ô∏è **Seguridad**: Nunca compartas tu clave privada. Solo utiliza la direcci√≥n p√∫blica para recibir fondos.

---

## üîß Optimizaci√≥n para BTT

### Paso 7: Priorizar Archivos Populares

#### Estrategias de Optimizaci√≥n:

* **Selecci√≥n de contenido**: Priorizar torrents con >1,000 seeders desde sitios populares.
* **Categorizaci√≥n**: Crear la categor√≠a **"BTT_Boost"** en qBittorrent para monitorear espec√≠ficamente las ganancias.
* **Configuraciones √≥ptimas**:

```bash
# Editar archivo de configuraci√≥n
nano ~/.config/qBittorrent/qBittorrent.conf
```

Ajustes recomendados:
```ini
[BitTorrent]
Session\BTTAnnouncePeer=true
Session\BTTEnabled=true
Session\BTTWalletAddress=TU_DIRECCI√ìN_TRON
Session\DefaultSavePath=/mnt/btt_storage
Session\DisableAutoTMMByDefault=false
Session\DisableAutoTMMTriggers\CategorySavePathChanged=false
Session\DisableAutoTMMTriggers\DefaultSavePathChanged=false
```

### Paso 8: Automatizar con Scripts

1. Script para monitoreo y optimizaci√≥n autom√°tica:

```bash
sudo nano /home/pi/btt_optimizer.sh
```

Agregar el siguiente contenido:
```bash
#!/bin/bash

# Script para optimizaci√≥n de BTT
# Requiere jq: sudo apt install jq -y

DATE=$(date +"%Y-%m-%d %H:%M:%S")
LOGFILE="/home/pi/btt_stats.log"
API_URL="http://localhost:8080/api/v2"
SESSION_COOKIE=$(curl -s --cookie-jar - "http://localhost:8080/api/v2/auth/login" --data "username=admin&password=adminadmin" | grep -oP 'SID=\K[^;]*')

echo "[$DATE] Ejecutando optimizaci√≥n BTT" >> $LOGFILE

# Obtener estad√≠sticas
STATS=$(curl -s --cookie "SID=$SESSION_COOKIE" "$API_URL/transfer/info")
DL_SPEED=$(echo $STATS | jq -r '.dl_info_speed')
UP_SPEED=$(echo $STATS | jq -r '.up_info_speed')

echo "[$DATE] Velocidad descarga: $DL_SPEED bytes/s, Subida: $UP_SPEED bytes/s" >> $LOGFILE

# Limpieza de torrents inactivos (sin compartir por m√°s de 15 d√≠as)
INACTIVE_TORRENTS=$(curl -s --cookie "SID=$SESSION_COOKIE" "$API_URL/torrents/info" | jq -r '.[] | select(.upspeed == 0 and .num_seeds > 100 and .time_active > 1296000) | .hash')

for torrent in $INACTIVE_TORRENTS; do
  echo "[$DATE] Eliminando torrent inactivo: $torrent" >> $LOGFILE
  curl -s --cookie "SID=$SESSION_COOKIE" "$API_URL/torrents/delete?hashes=$torrent&deleteFiles=false"
done

exit 0
```

2. Hacer ejecutable y programar con cron:

```bash
chmod +x /home/pi/btt_optimizer.sh
crontab -e
```

A√±adir estas l√≠neas:
```
# Ejecutar optimizador cada 12 horas
0 */12 * * * /home/pi/btt_optimizer.sh

# Reinicio del servicio qBittorrent cada semana
0 4 * * 0 sudo systemctl restart qbittorrent.service
```

![Automatizaci√≥n Scripts](https://via.placeholder.com/600x300?text=Automatizaci√≥n+con+Scripts)

---

## üìä Monitoreo y UI/UX Avanzada

### Dashboard Integrado en CryptoPlaza App

![Dashboard CryptoPlaza](https://via.placeholder.com/600x400?text=Dashboard+CryptoPlaza)

#### Funcionalidades:

* **Panel de control centralizado**:
  * Visualizaci√≥n en tiempo real de ganancias BTT.
  * Estad√≠sticas de rendimiento (velocidad, espacio, etc.).
  * Alertas configurables de mantenimiento.

* **Configuraci√≥n del Dashboard**:
  ```bash
  # Instalar dependencias para el dashboard
  sudo apt install -y nginx php-fpm php-curl
  
  # Descargar e instalar el dashboard
  git clone https://github.com/CryptoPlazaHQ/BTT-Dashboard.git /var/www/html/dashboard
  ```

* **Acceso**: `http://IP_RASPBERRY/dashboard`

### API para Monitoreo Remoto

Endpoints disponibles:
* `/api/status` - Estado general del sistema
* `/api/earnings` - Ganancias de BTT
* `/api/storage` - Informaci√≥n del almacenamiento
* `/api/performance` - M√©tricas de rendimiento

---

## üîí Mantenimiento y Seguridad

### Actualizaciones Autom√°ticas

```bash
# Crear script de actualizaci√≥n
sudo nano /home/pi/update_system.sh
```

Contenido del script:
```bash
#!/bin/bash
LOG="/home/pi/system_updates.log"
echo "Actualizando sistema: $(date)" >> $LOG
sudo apt update && sudo apt full-upgrade -y >> $LOG
sudo apt autoremove -y >> $LOG
sudo apt clean >> $LOG
echo "Actualizaci√≥n completada: $(date)" >> $LOG
```

Programar con cron:
```bash
chmod +x /home/pi/update_system.sh
crontab -e
# A√±adir:
0 3 * * 6 /home/pi/update_system.sh
```

### Configuraci√≥n de VPN

1. Instalar WireGuard:

```bash
sudo apt install wireguard -y
```

2. Configurar WireGuard:

```bash
sudo nano /etc/wireguard/wg0.conf
```

Plantilla de configuraci√≥n:
```ini
[Interface]
PrivateKey = TU_CLAVE_PRIVADA
Address = 10.0.0.2/24
DNS = 1.1.1.1, 1.0.0.1

[Peer]
PublicKey = CLAVE_PUBLICA_DEL_SERVIDOR
AllowedIPs = 0.0.0.0/0, ::/0
Endpoint = servidor.vpn.com:51820
PersistentKeepalive = 25
```

3. Habilitar WireGuard:

```bash
sudo systemctl enable wg-quick@wg0
sudo systemctl start wg-quick@wg0
```

### Configuraci√≥n del Firewall

```bash
# Instalar UFW si no
